---
import Layout from '../layouts/Layout.astro';
import Card from '../components/Card.astro';

const response = await fetch('http://localhost:3000/api/projects');
const projects = await response.json();
---

<Layout title="Projects - Gavin">
	<article>
		<h1 class="roboto-regular">Projects</h1>
		<div class="projects">
			{projects.map(project => (
				<Card img={project.img} title={project.title} body={project.body} href={project.href} tools={project.tools}></Card>
			))}
		</div>
	</article>
</Layout>
<style>
article {
	padding: var(--s-7);
}
h1 {
	text-transform: uppercase;
	letter-spacing: 2px;
	font-size: var(--s-5);
	position: relative;
}

.projects {
  display: flex;
  flex-direction: column;
  gap: var(--s-10);
  margin: var(--s-5) 0;
}

@media (min-width: 768px) {
	article {
		padding: var(--s-5) var(--s-15);
	}

	.projects {
		gap: var(--s-12)
	}
}

@media (min-width: 1024px) {
	.projects {
		flex-wrap: wrap;
	}
}
</style>